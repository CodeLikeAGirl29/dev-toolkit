<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Api Stack Overflow</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {
            /*function to sanitize the JSON if it is necesary*/
            function sanitizeJSON(unsanitized) {
                var str = JSON.stringify(unsanitized);
                var output = str.replace(/\\/g, "\\\\").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\t/g, "\\t").replace(/\f/g, "\\f").replace(/"/g, "\\\"").replace(/'/g, "\\\'").replace(/\&/g, "\\&");
                return output;
            }
            /*
            JSONP, which stands for "JSON with Padding" (and JSON stands for JavaScript Object Notation), is a way to get data from another domain that bypasses CORS (Cross Origin Resource Sharing) rules. CORS is a set of "rules," about transferring data between sites that have a different domain name from the client.
            We would like to see if we can get an valid JSON result which we can parse in using AJAX
            */
            /* Update all the parameters for your API test*/





            const url = `http://food2fork.com/api/search?key=d48fb246d87e5aa80bfb9aa7d21cfe84&q=shredded%20chicken`;

            // make the api call using the URL, dataType (JSON or JSONP), type (GET or POST)
            fetch(url, {
                    mode: 'no-cors', // 'cors' by default
                    headers: {
                        'Access-Control-Allow-Origin': '*',
                        'X-Requested-With': 'XMLHttpRequest',
                        'content-type': 'application/json'
                    }
                })

                //success scenario (call the function to display the results)
                .then(response => {
                    console.log(response);
                    if (response.ok) {
                        return response.json();
                    }
                    throw new Error(response.statusText);
                })
                .then(responseJson => console.log(responseJson))

                // failure scenario (display errors)
                .catch(err => {

                    console.log(err);
                });



        });
    </script>

</head>

<body>
    <p>There is nothing to see here. Please check your console log instead</p>
</body>

</html>
